import{d as U,u as K,c as v,x as f,b as y,o as b,L as z,M as H,_ as M,t as w,n as X,A as F,f as L,h as q,e as O,a1 as Y,a2 as Z,F as k,K as tt,y as et,I as j,a3 as nt,l as rt,a4 as at,a5 as st,a6 as it,a7 as ot,a8 as ut,a9 as ct,aa as ht,ab as ft,ac as lt,ad as pt,ae as dt,af as gt,ag as _t,ah as yt}from"./chunks/framework.64b480aa.js";import{t as V}from"./chunks/theme.59f3b731.js";const R=i=>(z("data-v-2f6ebf94"),i=i(),H(),i),bt={class:"NotFound"},vt=R(()=>f("p",{class:"code"},"404",-1)),mt=R(()=>f("div",{class:"divider"},null,-1)),At=R(()=>f("blockquote",{class:"quote"}," 啊这, 踏入了神秘领域, 快回到首页 ",-1)),wt={class:"action"},Bt=["href"],St=U({__name:"NotFound",setup(i){const{site:o}=K();return(u,p)=>(b(),v("div",bt,[vt,mt,At,f("div",wt,[f("a",{class:"link",href:y(o).base,"aria-label":"go to home"}," 返回首页 ",8,Bt)])]))}});const Ct=M(St,[["__scopeId","data-v-2f6ebf94"]]);var D={},$t={get exports(){return D},set exports(i){D=i}};(function(i,o){(function(u){i.exports=u()})(function(u){var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function d(s,a){var e=s[0],t=s[1],r=s[2],n=s[3];e+=(t&r|~t&n)+a[0]-680876936|0,e=(e<<7|e>>>25)+t|0,n+=(e&t|~e&r)+a[1]-389564586|0,n=(n<<12|n>>>20)+e|0,r+=(n&e|~n&t)+a[2]+606105819|0,r=(r<<17|r>>>15)+n|0,t+=(r&n|~r&e)+a[3]-1044525330|0,t=(t<<22|t>>>10)+r|0,e+=(t&r|~t&n)+a[4]-176418897|0,e=(e<<7|e>>>25)+t|0,n+=(e&t|~e&r)+a[5]+1200080426|0,n=(n<<12|n>>>20)+e|0,r+=(n&e|~n&t)+a[6]-1473231341|0,r=(r<<17|r>>>15)+n|0,t+=(r&n|~r&e)+a[7]-45705983|0,t=(t<<22|t>>>10)+r|0,e+=(t&r|~t&n)+a[8]+1770035416|0,e=(e<<7|e>>>25)+t|0,n+=(e&t|~e&r)+a[9]-1958414417|0,n=(n<<12|n>>>20)+e|0,r+=(n&e|~n&t)+a[10]-42063|0,r=(r<<17|r>>>15)+n|0,t+=(r&n|~r&e)+a[11]-1990404162|0,t=(t<<22|t>>>10)+r|0,e+=(t&r|~t&n)+a[12]+1804603682|0,e=(e<<7|e>>>25)+t|0,n+=(e&t|~e&r)+a[13]-40341101|0,n=(n<<12|n>>>20)+e|0,r+=(n&e|~n&t)+a[14]-1502002290|0,r=(r<<17|r>>>15)+n|0,t+=(r&n|~r&e)+a[15]+1236535329|0,t=(t<<22|t>>>10)+r|0,e+=(t&n|r&~n)+a[1]-165796510|0,e=(e<<5|e>>>27)+t|0,n+=(e&r|t&~r)+a[6]-1069501632|0,n=(n<<9|n>>>23)+e|0,r+=(n&t|e&~t)+a[11]+643717713|0,r=(r<<14|r>>>18)+n|0,t+=(r&e|n&~e)+a[0]-373897302|0,t=(t<<20|t>>>12)+r|0,e+=(t&n|r&~n)+a[5]-701558691|0,e=(e<<5|e>>>27)+t|0,n+=(e&r|t&~r)+a[10]+38016083|0,n=(n<<9|n>>>23)+e|0,r+=(n&t|e&~t)+a[15]-660478335|0,r=(r<<14|r>>>18)+n|0,t+=(r&e|n&~e)+a[4]-405537848|0,t=(t<<20|t>>>12)+r|0,e+=(t&n|r&~n)+a[9]+568446438|0,e=(e<<5|e>>>27)+t|0,n+=(e&r|t&~r)+a[14]-1019803690|0,n=(n<<9|n>>>23)+e|0,r+=(n&t|e&~t)+a[3]-187363961|0,r=(r<<14|r>>>18)+n|0,t+=(r&e|n&~e)+a[8]+1163531501|0,t=(t<<20|t>>>12)+r|0,e+=(t&n|r&~n)+a[13]-1444681467|0,e=(e<<5|e>>>27)+t|0,n+=(e&r|t&~r)+a[2]-51403784|0,n=(n<<9|n>>>23)+e|0,r+=(n&t|e&~t)+a[7]+1735328473|0,r=(r<<14|r>>>18)+n|0,t+=(r&e|n&~e)+a[12]-1926607734|0,t=(t<<20|t>>>12)+r|0,e+=(t^r^n)+a[5]-378558|0,e=(e<<4|e>>>28)+t|0,n+=(e^t^r)+a[8]-2022574463|0,n=(n<<11|n>>>21)+e|0,r+=(n^e^t)+a[11]+1839030562|0,r=(r<<16|r>>>16)+n|0,t+=(r^n^e)+a[14]-35309556|0,t=(t<<23|t>>>9)+r|0,e+=(t^r^n)+a[1]-1530992060|0,e=(e<<4|e>>>28)+t|0,n+=(e^t^r)+a[4]+1272893353|0,n=(n<<11|n>>>21)+e|0,r+=(n^e^t)+a[7]-155497632|0,r=(r<<16|r>>>16)+n|0,t+=(r^n^e)+a[10]-1094730640|0,t=(t<<23|t>>>9)+r|0,e+=(t^r^n)+a[13]+681279174|0,e=(e<<4|e>>>28)+t|0,n+=(e^t^r)+a[0]-358537222|0,n=(n<<11|n>>>21)+e|0,r+=(n^e^t)+a[3]-722521979|0,r=(r<<16|r>>>16)+n|0,t+=(r^n^e)+a[6]+76029189|0,t=(t<<23|t>>>9)+r|0,e+=(t^r^n)+a[9]-640364487|0,e=(e<<4|e>>>28)+t|0,n+=(e^t^r)+a[12]-421815835|0,n=(n<<11|n>>>21)+e|0,r+=(n^e^t)+a[15]+530742520|0,r=(r<<16|r>>>16)+n|0,t+=(r^n^e)+a[2]-995338651|0,t=(t<<23|t>>>9)+r|0,e+=(r^(t|~n))+a[0]-198630844|0,e=(e<<6|e>>>26)+t|0,n+=(t^(e|~r))+a[7]+1126891415|0,n=(n<<10|n>>>22)+e|0,r+=(e^(n|~t))+a[14]-1416354905|0,r=(r<<15|r>>>17)+n|0,t+=(n^(r|~e))+a[5]-57434055|0,t=(t<<21|t>>>11)+r|0,e+=(r^(t|~n))+a[12]+1700485571|0,e=(e<<6|e>>>26)+t|0,n+=(t^(e|~r))+a[3]-1894986606|0,n=(n<<10|n>>>22)+e|0,r+=(e^(n|~t))+a[10]-1051523|0,r=(r<<15|r>>>17)+n|0,t+=(n^(r|~e))+a[1]-2054922799|0,t=(t<<21|t>>>11)+r|0,e+=(r^(t|~n))+a[8]+1873313359|0,e=(e<<6|e>>>26)+t|0,n+=(t^(e|~r))+a[15]-30611744|0,n=(n<<10|n>>>22)+e|0,r+=(e^(n|~t))+a[6]-1560198380|0,r=(r<<15|r>>>17)+n|0,t+=(n^(r|~e))+a[13]+1309151649|0,t=(t<<21|t>>>11)+r|0,e+=(r^(t|~n))+a[4]-145523070|0,e=(e<<6|e>>>26)+t|0,n+=(t^(e|~r))+a[11]-1120210379|0,n=(n<<10|n>>>22)+e|0,r+=(e^(n|~t))+a[2]+718787259|0,r=(r<<15|r>>>17)+n|0,t+=(n^(r|~e))+a[9]-343485551|0,t=(t<<21|t>>>11)+r|0,s[0]=e+s[0]|0,s[1]=t+s[1]|0,s[2]=r+s[2]|0,s[3]=n+s[3]|0}function $(s){var a=[],e;for(e=0;e<64;e+=4)a[e>>2]=s.charCodeAt(e)+(s.charCodeAt(e+1)<<8)+(s.charCodeAt(e+2)<<16)+(s.charCodeAt(e+3)<<24);return a}function g(s){var a=[],e;for(e=0;e<64;e+=4)a[e>>2]=s[e]+(s[e+1]<<8)+(s[e+2]<<16)+(s[e+3]<<24);return a}function c(s){var a=s.length,e=[1732584193,-271733879,-1732584194,271733878],t,r,n,_,m,A;for(t=64;t<=a;t+=64)d(e,$(s.substring(t-64,t)));for(s=s.substring(t-64),r=s.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)n[t>>2]|=s.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(d(e,n),t=0;t<16;t+=1)n[t]=0;return _=a*8,_=_.toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(_[2],16),A=parseInt(_[1],16)||0,n[14]=m,n[15]=A,d(e,n),e}function l(s){var a=s.length,e=[1732584193,-271733879,-1732584194,271733878],t,r,n,_,m,A;for(t=64;t<=a;t+=64)d(e,g(s.subarray(t-64,t)));for(s=t-64<a?s.subarray(t-64):new Uint8Array(0),r=s.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)n[t>>2]|=s[t]<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(d(e,n),t=0;t<16;t+=1)n[t]=0;return _=a*8,_=_.toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(_[2],16),A=parseInt(_[1],16)||0,n[14]=m,n[15]=A,d(e,n),e}function C(s){var a="",e;for(e=0;e<4;e+=1)a+=p[s>>e*8+4&15]+p[s>>e*8&15];return a}function B(s){var a;for(a=0;a<s.length;a+=1)s[a]=C(s[a]);return s.join("")}B(c("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function s(a,e){return a=a|0||0,a<0?Math.max(a+e,0):Math.min(a,e)}ArrayBuffer.prototype.slice=function(a,e){var t=this.byteLength,r=s(a,t),n=t,_,m,A,T;return e!==u&&(n=s(e,t)),r>n?new ArrayBuffer(0):(_=n-r,m=new ArrayBuffer(_),A=new Uint8Array(m),T=new Uint8Array(this,r,_),A.set(T),m)}}();function P(s){return/[\u0080-\uFFFF]/.test(s)&&(s=unescape(encodeURIComponent(s))),s}function W(s,a){var e=s.length,t=new ArrayBuffer(e),r=new Uint8Array(t),n;for(n=0;n<e;n+=1)r[n]=s.charCodeAt(n);return a?r:t}function G(s){return String.fromCharCode.apply(null,new Uint8Array(s))}function J(s,a,e){var t=new Uint8Array(s.byteLength+a.byteLength);return t.set(new Uint8Array(s)),t.set(new Uint8Array(a),s.byteLength),e?t:t.buffer}function x(s){var a=[],e=s.length,t;for(t=0;t<e-1;t+=2)a.push(parseInt(s.substr(t,2),16));return String.fromCharCode.apply(String,a)}function h(){this.reset()}return h.prototype.append=function(s){return this.appendBinary(P(s)),this},h.prototype.appendBinary=function(s){this._buff+=s,this._length+=s.length;var a=this._buff.length,e;for(e=64;e<=a;e+=64)d(this._hash,$(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},h.prototype.end=function(s){var a=this._buff,e=a.length,t,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n;for(t=0;t<e;t+=1)r[t>>2]|=a.charCodeAt(t)<<(t%4<<3);return this._finish(r,e),n=B(this._hash),s&&(n=x(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},h.prototype.setState=function(s){return this._buff=s.buff,this._length=s.length,this._hash=s.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(s,a){var e=a,t,r,n;if(s[e>>2]|=128<<(e%4<<3),e>55)for(d(this._hash,s),e=0;e<16;e+=1)s[e]=0;t=this._length*8,t=t.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(t[2],16),n=parseInt(t[1],16)||0,s[14]=r,s[15]=n,d(this._hash,s)},h.hash=function(s,a){return h.hashBinary(P(s),a)},h.hashBinary=function(s,a){var e=c(s),t=B(e);return a?x(t):t},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(s){var a=J(this._buff.buffer,s,!0),e=a.length,t;for(this._length+=s.byteLength,t=64;t<=e;t+=64)d(this._hash,g(a.subarray(t-64,t)));return this._buff=t-64<e?new Uint8Array(a.buffer.slice(t-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(s){var a=this._buff,e=a.length,t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r,n;for(r=0;r<e;r+=1)t[r>>2]|=a[r]<<(r%4<<3);return this._finish(t,e),n=B(this._hash),s&&(n=x(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var s=h.prototype.getState.call(this);return s.buff=G(s.buff),s},h.ArrayBuffer.prototype.setState=function(s){return s.buff=W(s.buff,!0),h.prototype.setState.call(this,s)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(s,a){var e=l(new Uint8Array(s)),t=B(e);return a?x(t):t},h})})($t);const Pt=D,xt=[],It=["penana"];function I(i){var o;return typeof i.author=="string"&&i.author?i.author:((o=i.author)==null?void 0:o.name)||i.publisher.username}function E(i){return["vikiboss"].includes(i.publisher.username)}function N(i){const o=["linxae","hezhihang","sioncovy","ginirohikocha"],u=["helper","forward"],p=o.includes(i.publisher.username),d=u.includes(i.name.replace("kivibot-plugin-",""));return p||d}function Ut(i){return i?`https://gravatar.deno.dev/avatar/${Pt.hash(i)}?d=mp`:"http://beta.kivibot.com/dimo.png"}function Ft(i){return It.includes(i.publisher.username)}function Lt(i){return xt.includes(i.name.replace("kivibot-plugin-",""))}function jt(i){return!i.name.startsWith("kivibot-plugin-")||Ft(i)||Lt(i)}const Dt={key:0,class:"label official"},Et={key:1,class:"label high-quality"},Nt={key:2,class:"label community"},Mt={class:"footer"},Rt={title:"发布时间"},Tt=["title"],Ot=["src"],Vt=U({__name:"Package",props:{pkg:null},setup(i){function o(u){window.open(u)}return(u,p)=>(b(),v("div",{class:"pkg",onClick:p[0]||(p[0]=d=>o(i.pkg.links.npm??i.pkg.links.repository))},[f("div",null,[f("h3",null,[f("span",null,w(i.pkg.name.replace("kivibot-plugin-","")),1),f("span",{class:X(`label ${i.pkg.version==="0.0.0"?"wip":""}`)},w(i.pkg.version==="0.0.0"?"开发中":`v${i.pkg.version}`),3),y(E)(i.pkg)?(b(),v("span",Dt,"官方插件")):F("",!0),y(N)(i.pkg)?(b(),v("span",Et,"社区优质插件")):F("",!0),!y(N)(i.pkg)&&!y(E)(i.pkg)?(b(),v("span",Nt,"社区插件")):F("",!0)]),f("p",null,w(i.pkg.description),1)]),f("div",Mt,[f("span",Rt,w(new Date(i.pkg.date).toLocaleString()),1),f("div",{title:y(I)(i.pkg)},[f("img",{class:"avatar",src:y(Ut)(i.pkg.publisher.email)},null,8,Ot),f("span",null,w(y(I)(i.pkg)),1)],8,Tt)])]))}});const Kt=M(Vt,[["__scopeId","data-v-ff737cf0"]]),zt=i=>(z("data-v-eb7dc60c"),i=i(),H(),i),Ht={key:0},qt=zt(()=>f("h1",null,"KiviBot Beta 插件列表",-1)),Qt={class:"search"},Wt={class:"packages"},Gt={key:1},Jt={key:0},Xt={key:1},Yt=U({__name:"index",setup(i){const o=L({total:0,objects:[],time:new Date}),u=L(""),p=L();q(async()=>{try{const l=await(await fetch("https://registry.npmjs.org/-/v1/search?text=kivibot-plugin&size=250")).json();l.objects=l.objects.filter(C=>!jt(C.package)),o.value=l}catch(g){p.value=g}});const d=O(()=>{if(!o.value)return[];const g=o.value.objects.filter(c=>{const l=u.value.toLowerCase(),C=c.package.name.includes(l),B=c.package.description.includes(l),P=I(c.package).toLowerCase().includes(l);return C||B||P});return g.forEach(c=>{const l=c.package.description.replace(/kivi\s*bot/gi,"KiviBot");c.package.description=l}),g.sort((c,l)=>c.score.final-l.score.final),g.sort(c=>N(c.package)?-1:1),g.sort(c=>E(c.package)?1:-1),g.sort(c=>c.package.version==="0.0.0"?1:-1),g.map(c=>c.package)}),$=O(()=>{const g=d.value.map(c=>I(c).toLowerCase());return new Set(g)});return(g,c)=>o.value.objects.length?(b(),v("div",Ht,[qt,f("div",Qt,[f("div",null," 共计 "+w(u.value?y(d).length+" / ":"")+w(o.value.objects.length)+" 个 npm 插件，来自 "+w(y($).size)+" 个开发者 ",1),Y(f("input",{type:"text",class:"search__input",placeholder:"通过插件的标识、介绍、作者进行搜索","onUpdate:modelValue":c[0]||(c[0]=l=>u.value=l)},null,512),[[Z,u.value]])]),f("div",Wt,[(b(!0),v(k,null,tt(y(d),l=>(b(),et(Kt,{pkg:l,key:l.name},null,8,["pkg"]))),128))])])):(b(),v("div",Gt,[p.value?(b(),v("div",Jt," 插件列表加载失败。 ")):(b(),v("div",Xt," 正在加载插件列表... "))]))}});const Zt=M(Yt,[["__scopeId","data-v-eb7dc60c"]]);const kt={...V,NotFound:Ct,enhanceApp(i){V.enhanceApp(i),i.app.component("Plugin",Zt)}};function Q(i){if(i.extends){const o=Q(i.extends);return{...o,...i,async enhanceApp(u){o.enhanceApp&&await o.enhanceApp(u),i.enhanceApp&&await i.enhanceApp(u)}}}return i}const S=Q(kt),te=U({name:"VitePressApp",setup(){const{site:i}=K();return q(()=>{rt(()=>{document.documentElement.lang=i.value.lang,document.documentElement.dir=i.value.dir})}),at(),st(),it(),S.setup&&S.setup(),()=>ot(S.Layout)}});async function ee(){const i=re(),o=ne();o.provide(ut,i);const u=ct(i.route);return o.provide(ht,u),o.component("Content",ft),o.component("ClientOnly",lt),Object.defineProperties(o.config.globalProperties,{$frontmatter:{get(){return u.frontmatter.value}},$params:{get(){return u.page.value.params}}}),S.enhanceApp&&await S.enhanceApp({app:o,router:i,siteData:pt}),{app:o,router:i,data:u}}function ne(){return dt(te)}function re(){let i=j,o;return gt(u=>{let p=_t(u);return i&&(o=p),(i||o===p)&&(p=p.replace(/\.js$/,".lean.js")),j&&(i=!1),yt(()=>import(p),[])},S.NotFound)}j&&ee().then(({app:i,router:o,data:u})=>{o.go().then(()=>{nt(o.route,u.site),i.mount("#app")})});export{ee as createApp};
